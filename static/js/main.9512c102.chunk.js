(this["webpackJsonpjfdzr2-homework-5"]=this["webpackJsonpjfdzr2-homework-5"]||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(29),o=c.n(s),r=(c(37),c(9)),i=c(3),l=(c(38),c(0)),j=function(){return Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{className:"flex poke-font justify-between",children:[Object(l.jsx)("li",{className:"mr-4",children:Object(l.jsx)(r.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{className:"mr-4",children:Object(l.jsx)(r.b,{to:"/pokemons",children:"Pokemons"})}),Object(l.jsx)("li",{className:"mr-4 text-center",children:Object(l.jsx)(r.b,{to:"/favourites",children:"Favourites\u2764\ufe0f"})})]})})},d=c(31),b=c(2),u=c(10),p=c.n(u),x=function(e){var t=e.children,c=e.className;return Object(l.jsx)("div",{className:"mt-12 p-8 bg-red-500 rounded shadow-xl ".concat(c||""),children:t})},m=c(19),h=c(32),O=function(e){var t=e.children,c=e.className,a=Object(h.a)(e,["children","className"]);return Object(l.jsx)("h1",Object(m.a)(Object(m.a)({className:"poke-font text-2xl text-center mt-2 text-white font-bold ".concat(c||"")},a),{},{children:t}))},f={bug:"#729f3f",dragon:"#53a4cf",fairy:"#fdb9e9",fire:"#fd7d24",ghost:"#7b62a3",ground:"#f7de3f",normal:"#a4acaf",pyschic:"#f366b9",steel:"#9eb7bb",dark:"#707070",electric:"#eed535",fighting:"#d56723",flying:"#3dc7ef",grass:"#9bcc50",ice:"#51c4e7",poison:"#b97fc9",rock:"#a38c21",water:"#4592c4"},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=c.serialize,s=void 0===a?JSON.stringify:a,o=c.deserialize,r=void 0===o?JSON.parse:o,i=n.a.useState((function(){var c=window.localStorage.getItem(e);return c?r(c):"function"===typeof t?t():t})),l=Object(b.a)(i,2),j=l[0],d=l[1],u=n.a.useRef(e);return n.a.useEffect((function(){u.current!==e&&window.localStorage.removeItem(u),u.current=e,window.localStorage.setItem(e,s(j))}),[e,s,j]),[j,d]},v=function(){var e=Object(i.g)().index,t=Object(i.f)(),c=Object(a.useState)(),n=Object(b.a)(c,2),s=n[0],o=n[1],r=Object(a.useState)(!0),j=Object(b.a)(r,2),u=j[0],m=j[1],h=Object(a.useState)(!1),v=Object(b.a)(h,2),k=v[0],y=v[1],N=Object(a.useState)(""),w=Object(b.a)(N,2),S=w[0],P=w[1],T=g("favourite-pokemons",[]),C=Object(b.a)(T,2),A=C[0],M=C[1],E=Object(a.useState)(""),I=Object(b.a)(E,2),z=I[0],J=I[1],H=Object(a.useState)(),L=Object(b.a)(H,2),_=L[0],B=L[1],F=Object(a.useState)(""),R=Object(b.a)(F,2),U=R[0],W=R[1],q=Object(a.useState)(),D=Object(b.a)(q,2),G=D[0],K=D[1];Object(a.useEffect)((function(){p.a.get("https://pokeapi.co/api/v2/pokemon/".concat(e)).then((function(e){o(e.data),J(e.data.sprites.front_default),B(e.data.types.map((function(e){return e.type.name}))),W(e.data.name),K(e.data.id),m(!1),y(!1)})).catch((function(e){console.log(e),y(!0),P("Pokemon not found!"),m(!1)}))}),[e]);return Object(l.jsxs)(x,{children:[Object(l.jsx)("button",{className:"poke-font bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded",style:{textTransform:"uppercase"},onClick:function(){return t.push("/pokemons")},children:"\u25c0\ufe0f Back to Pokemons List"}),Object(l.jsxs)("div",{className:"pokemon-details-wrapper text-white poke-font",children:[k?Object(l.jsx)("p",{className:"poke-font py-6 text-center",children:S}):null,u&&Object(l.jsx)("p",{className:"text-white poke-font py-6 text-center",children:"Loading..."}),s&&Object(l.jsxs)("div",{className:"pokemon-details-card bg-red-700",children:[Object(l.jsxs)("div",{className:"pokemon-details-title",children:[Object(l.jsxs)(O,{children:["#",s.id,": ",s.name.charAt(0).toUpperCase()+s.name.slice(1)]}),A.map((function(e){return e.name})).includes(s.name)?Object(l.jsx)("button",{className:"poke-font bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded",style:{textTransform:"uppercase",color:"grey",cursor:"not-allowed"},disabled:!0,children:"Added To \ud83d\udda4"}):Object(l.jsx)("button",{className:"poke-font bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded",style:{textTransform:"uppercase"},onClick:function(){var e={id:G,name:U,avatar:z,types:_};A.length>5&&A.shift(),M([].concat(Object(d.a)(A),[e]))},children:"Add To \u2764\ufe0f"})]}),Object(l.jsx)("div",{className:"images",children:Object(l.jsx)("img",{src:s.sprites.front_default,alt:"pokemon avatar"})}),Object(l.jsxs)("div",{className:"pokemon-details-card-text",children:[Object(l.jsx)("h3",{children:"Pokemon Info"}),Object(l.jsxs)("p",{children:["Species: ",Object(l.jsx)("span",{style:{color:"lightskyblue"},children:s.species.name})]}),Object(l.jsxs)("p",{children:["Height: ",Math.round(s.height)/10," m"]}),Object(l.jsxs)("p",{children:["Weight: ",Math.round(s.weight)/10," kg"]}),Object(l.jsx)("p",{children:"Types:"}),Object(l.jsx)("div",{className:"pokemon-details-types-info",children:s.types.map((function(e){return Object(l.jsx)("span",{style:{backgroundColor:f[e.type.name]},children:"".concat(e.type.name)},e.type.name)}))}),Object(l.jsx)("p",{children:"Abilities:"}),Object(l.jsx)("div",{className:"pokemon-details-abilities-info",children:s.abilities.map((function(e){return Object(l.jsx)("span",{children:"".concat(e.ability.name)},e.ability.name)}))})]})]})]})]})},k=function(e){var t=e.id,c=e.name,a=e.avatar,n=e.types;return Object(l.jsx)(r.b,{to:"/pokemons/".concat(t),children:Object(l.jsxs)("figure",{className:"pokemon-card max-w-xs bg-gray-100 rounded-xl p-4 hover:bg-red-700 cursor-pointer",children:[Object(l.jsx)("img",{className:"w-32 h-32 rounded-full mx-auto",src:a,alt:"Pokemon Avatar",width:"384",height:"512"}),Object(l.jsx)("div",{className:"pt-4 text-center",children:Object(l.jsxs)("figcaption",{className:"font-medium",children:[Object(l.jsxs)("div",{className:"text-cyan-600",children:["#",t," ",c]}),Object(l.jsx)("div",{className:"text-gray-500",children:n.join(", ")})]})})]})})},y=function(){var e=g("favourite-pokemons",[]),t=Object(b.a)(e,1)[0];return Object(l.jsxs)(x,{children:[Object(l.jsx)(O,{children:"Favourites"}),Object(l.jsx)("div",{className:"pokemons-fav-list-wrapper mt-8 poke-font text-xs",children:t.length?t.map((function(e,t){return Object(l.jsx)(k,{name:e.name,types:e.types,avatar:e.avatar,id:e.id},"".concat(e.name," - ").concat(t))})):Object(l.jsx)("div",{className:"poke-font text-white text-center mt-7",children:"There are no pokemons in your favourites list"})})]})};function N(){return Object(l.jsx)(x,{children:Object(l.jsx)(O,{children:"Pokedex"})})}var w=function(e){var t=e.pokemons,c=e.id,n=Object(a.useState)(""),s=Object(b.a)(n,2),o=s[0],i=s[1],j=Object(a.useState)(),d=Object(b.a)(j,2),u=d[0],x=d[1];return Object(a.useEffect)((function(){var e;return p.a.get("https://pokeapi.co/api/v2/pokemon/".concat(c),{cancelToken:new p.a.CancelToken((function(t){return e=t}))}).then((function(e){i(e.data.sprites.front_default),x(e.data.id)})),function(){return e()}}),[c]),Object(l.jsx)(r.b,{to:"/pokemons/".concat(u),children:Object(l.jsxs)("figure",{className:"pokemon-card max-w-xs bg-gray-100 rounded-xl p-4 poke-font hover:bg-red-700 cursor-pointer",children:[Object(l.jsx)("img",{className:"w-32 h-32 rounded-full mx-auto",src:o,alt:"Pokemon Avatar"}),Object(l.jsx)("div",{className:"pt-4 text-center",children:Object(l.jsxs)("figcaption",{className:"font-medium",children:[Object(l.jsxs)("div",{className:"text-cyan-600",children:["#",u]}),Object(l.jsx)("div",{className:"text-cyan-600",children:t.name})]})})]})})},S=function(e){var t=e.goToNextPage,c=e.goToPrevPage,a=e.page,n=e.totalPages;return Object(l.jsxs)("div",{className:"pagination-buttons-wrapper flex poke-font",children:[c&&Object(l.jsx)("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded",onClick:c,children:"Prev"}),Object(l.jsxs)("div",{children:[a," of ",n]}),t&&Object(l.jsx)("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded",onClick:t,children:"Next"})]})};function P(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!0),o=Object(b.a)(s,2),r=o[0],i=o[1],j=Object(a.useState)(!1),d=Object(b.a)(j,2),u=d[0],m=d[1],h=Object(a.useState)(""),f=Object(b.a)(h,2),g=f[0],v=f[1],k=Object(a.useState)(0),y=Object(b.a)(k,2),N=y[0],P=y[1],T=Object(a.useState)(0),C=Object(b.a)(T,2),A=C[0],M=C[1],E=Object(a.useState)("https://pokeapi.co/api/v2/pokemon?limit=".concat(20,"&offset=").concat(0)),I=Object(b.a)(E,2),z=I[0],J=I[1],H=Object(a.useState)(""),L=Object(b.a)(H,2),_=L[0],B=L[1],F=Object(a.useState)(""),R=Object(b.a)(F,2),U=R[0],W=R[1];Object(a.useEffect)((function(){var e;return p.a.get(z,{cancelToken:new p.a.CancelToken((function(t){return e=t}))}).then((function(e){n(e.data.results),B(e.data.next),W(e.data.previous),M(Math.ceil(e.data.count/20)),i(!1),m(!1)})).catch((function(e){console.log(e),m(!0),v("Could not fetch the data :("),i(!1)})),function(){return e()}}),[z]);return Object(l.jsxs)(x,{children:[Object(l.jsx)(O,{children:"Pokemons list"}),u?Object(l.jsx)("p",{className:"text-white poke-font py-6 text-center",children:g}):null,r&&Object(l.jsx)("p",{className:"text-white poke-font py-6 text-center",children:"Loading..."}),Object(l.jsx)(S,{page:N+1,totalPages:A,goToPrevPage:U?function(){J(U);var e=Math.max(N-1,0);P(e)}:null,goToNextPage:_?function(){J(_);var e=Math.min(N+1,A-1);P(e)}:null}),Object(l.jsx)("ol",{className:"pokemons-list-wrapper",children:c&&c.map((function(e){return Object(l.jsx)(w,{pokemons:e,id:e.url.split("/")[6]},"".concat(e.name," - ").concat(e.url.split("/")[6]))}))})]})}var T=function(){return Object(l.jsx)(r.a,{children:Object(l.jsx)("main",{className:"App bg-red-100",style:{minHeight:"100vh"},children:Object(l.jsx)("div",{className:"app-wrapper w-10/12 pt-4 mx-auto",children:Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",children:Object(l.jsx)(N,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/pokemons",children:Object(l.jsx)(P,{})}),Object(l.jsx)(i.a,{path:"/pokemons/:index",children:Object(l.jsx)(v,{})}),Object(l.jsx)(i.a,{path:"/favourites",children:Object(l.jsx)(y,{})})]})})]})})})})};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(T,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.9512c102.chunk.js.map